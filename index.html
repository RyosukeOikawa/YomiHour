<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>よみあわー</title>
  </head>
  <body>
    <form name="form">
      <textarea name="text" class="text"rows="5"></textarea><br>
      <input class="read" type="button" value="読み上げる" onclick="readText();" />
    </form>
  </body>
  <script type="text/javascript">

    // APIのインスタンス化
    window.SpeechRecognition = window.webkitSpeechRecognition;
    const synthesis = new SpeechSynthesisUtterance();

    // 読み上げる関数
    function readText() {
      // 読み上げるテキストを設定
      let inputText= document.form.text.value;
      // 文字列を一文字ずつ取得
      textArray = inputText.split("");
      // 一文字ずつ読み上げる
      for (var i = 0; i < textArray.length; i++) {
        // 文字の設定
        var tempText =textArray[i];
        // テキストをAPIに渡す
        synthesis.text = tempText;
        // 読みあげる
        speechSynthesis.speak(synthesis);
      }
    }

  </script>
</html>
